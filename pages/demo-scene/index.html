<!DOCTYPE html>
<html lang="en">

<head>
  <script src="https://unpkg.com/grimoirejs-preset-basic/register/grimoire-preset-basic.js"></script>
  <script src="gr-animation.js"></script>
  <script src="./audio.js"></script>
  <style type="text/css">
    html {
      width: 100%;
      height: 100%;
      margin: 0;
    }

    body {
      width: 100%;
      height: 100%;
      margin: 0;
      display: flex;
    }

    .config {
      display: flex;
      flex-direction: column;
    }
  </style>
</head>

<body>
  <script id="main" type="text/goml">
    <goml width="800" height="600">
      <import-animation typeName="anim" src="anime.json"></import-animation>
      <renderer>
        <render-quad material="new(unlit)">
          <render-quad.components>
            <Animation animation="anim" clips="color"></Animation>
          </render-quad.components>
        </render-quad>
      </renderer>
    </goml>
  </script>
  <div class="config">
    <script id="audio" type="text/goml">
      <goml width="400" height="300">
        <import-material typeName="audio" src="audio.sort" />
        <geometry type="frame" name="frame" />
        <renderer>
          <render-scene clearColor="black"></render-scene>
        </renderer>
        <scene>
          <camera/>
          <mesh geometry="frame" material="new(audio)" type="true" scale="5,2,1" position="0,2.5,0" />
          <mesh geometry="frame" material="new(audio)" type="false" scale="5,3,1" position="0,0,0" />
        </scene>
      </goml>
    </script>
  </div>

</body>

</html>
